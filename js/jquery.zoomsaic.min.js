/* 
 * Zoomsaic JS - v1.0
 * Author: Jonathan Argentiero
 * Github project: https://github.com/jonathanargentiero/ZoomsaicJS
 * use the plugin as you please :)
 */
(function(e){e.fn.zoomsaic=function(e){if(e.height===undefined){e.height=0}if(e.easepage===undefined){e.easepage="linear"}if(e.easein===undefined){e.easein="linear"}if(e.easout===undefined){e.easout="linear"}if(e.navigator===undefined){e.navigator=false}if(e.pagination===undefined){e.pagination=false}if(e.elements_per_page===undefined){e.elements_per_page=999999}if(e.columns===undefined){e.columns=parseInt(parseInt(e.width)/parseInt(e.box_width))}if(e.box_width===undefined){e.box_width=parseInt(e.width/e.columns)}if(e.box_height===undefined){e.box_height=parseInt(e.width/e.columns)}if(e.max_box_width===undefined){e.max_box_width=parseInt(e.box_width+e.box_width*.5)}if(e.max_box_height===undefined){e.max_box_height=parseInt(e.box_height+e.box_height*.5)}this.each(function(t,n){var r=0;var i=0;var s=new Array;var o=parseInt($(this).children(".zoomsaic-element").length);var u=new Array;$(this).children(".zoomsaic-element").each(function(t,n){u.push('<div class="zoomsaic-element" style="width:'+e.box_width+"px;height:"+e.box_height+'px">'+$(n).html()+"</div>")});var a=parseInt(parseInt(e.width)*(o/parseInt(e.elements_per_page)+1));var f=parseInt(e.height);s.push('<div class="zoomsaic-container" style="display:none;width:'+a+"px;height:"+f+'px;">');$(u).each(function(t,n){if(r===0){if(i!==0){s.push('<div class="zoomsaic-pager" data-page="'+i+'" style="width:'+parseInt(e.width)+"px;height:"+f+'px;">')}else{s.push('<div class="zoomsaic-pager active" data-page="'+i+'" style="width:'+parseInt(e.width)+"px;height:"+f+'px;">')}}s.push(n);r++;if(r===e.elements_per_page){r=0;i++;s.push("</div>")}});if(r!==0){i++;s.push("</div>")}s.push("</div>");if(e.navigator===true&&i>1){s.push('<div class="zoomsaic-navigator">');for(var l=0;l<i;l++){if(l!==0){s.push('<div class="zoomsaic-page" data-page='+l+">"+l+"</div>")}else{s.push('<div class="zoomsaic-page active" data-page='+l+">"+l+"</div>")}}s.push("</div>")}$(n).html(s.join(""));if(e.navigator===true&&i>1){$(n).find(".zoomsaic-page").click(function(t){t.preventDefault();var r=$(this);$(n).find(".zoomsaic-after").hide();var i=parseInt($(r).attr("data-page"));var s=i*parseInt(e.width);if(e.direction==="left"){s=-1*s}$(n).find(".zoomsaic-page").removeClass("active");$(n).find('.zoomsaic-page[data-page="'+i+'"]').addClass("active");$(n).find(".zoomsaic-pager").each(function(e,t){if(parseInt($(t).attr("data-page"))===i){$(t).children(".zoomsaic-element").fadeIn("slow");$(t).addClass("active")}else{$(t).children(".zoomsaic-element").fadeOut("slow");$(t).removeClass("active")}});$(r).parent().parent().find(".zoomsaic-container").animate({left:s},500,e.easepage,function(){})})}var c=$(n).find(".zoomsaic-element");r=0;var h=0;$(c).each(function(t,n){var i=parseInt($(n).parent().attr("data-page"))*parseInt(e.width);var s=i+t%parseInt(e.columns)*parseInt(e.box_width);var o=parseInt(e.box_height)*h;$(this).css("position","absolute");$(this).css("left",s+"px");$(this).css("top",o+"px");$(this).attr("data-aleft",s-(e.max_box_width-e.box_width)/2);$(this).attr("data-atop",o-(e.max_box_height-e.box_height)/2);$(this).attr("data-bleft",s);$(this).attr("data-btop",o);$(this).attr("data-counter",r);$(this).attr("data-row",h);$(this).hover(function(){$(this).addClass("active");$(this).css("z-index",1);$(this).stop().animate({height:e.max_box_height,width:e.max_box_width,left:$(this).attr("data-aleft"),top:$(this).attr("data-atop")},"fast",e.easein,function(){$(this).children(".zoomsaic-after").fadeIn()})},function(){$(this).parent().find(".zoomsaic-after").fadeOut();$(this).css("z-index",0);$(this).removeClass("active");$(this).stop().animate({height:e.box_height,width:e.box_width,left:$(this).attr("data-bleft"),top:$(this).attr("data-btop")},"fast",e.easeout,function(){})});r++;if(r>e.columns-1){h++;r=0}if(e.navigator===true&&h>parseInt(e.elements_per_page)/parseInt(e.columns)-1){h=0}});$(n).css("height",e.height);if(e.navigator===false&&$(n).height()===0){if(r!==0){h++}$(n).height(h*e.box_height);$(n).find(".zoomsaic-container").height(h*e.box_height);$(n).find(".zoomsaic-pager").height(h*e.box_height)}$(n).css("width",e.width);$(n).find(".zoomsaic-container").show();$(n).find(".zoomsaic-pager").each(function(e,t){if(parseInt($(t).attr("data-page"))===0){$(t).children(".zoomsaic-element").show()}else{$(t).children(".zoomsaic-element").hide()}})})}})(jQuery)